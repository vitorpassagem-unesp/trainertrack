{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vitor Passagem\\\\Desktop\\\\TrainerTrack-project\\\\trainertrack\\\\client\\\\src\\\\contexts\\\\WorkoutContext.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport * as workoutService from '../services/workout.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const WorkoutContext = /*#__PURE__*/createContext();\nexport const WorkoutProvider = ({\n  children\n}) => {\n  _s();\n  const [workouts, setWorkouts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [clientId, setClientId] = useState(null);\n  useEffect(() => {\n    if (clientId) {\n      fetchWorkouts();\n    }\n  }, [clientId]);\n  const fetchWorkouts = async () => {\n    try {\n      setLoading(true);\n      const data = await workoutService.getWorkoutPlans();\n      setWorkouts(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const addWorkout = async workoutData => {\n    try {\n      const data = await workoutService.createWorkoutPlan(workoutData);\n      setWorkouts([...workouts, data]);\n      return data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n  const updateWorkout = async (id, workoutData) => {\n    try {\n      const data = await workoutService.updateWorkoutPlan(id, workoutData);\n      setWorkouts(workouts.map(w => w._id === id ? data : w));\n      return data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n  const value = {\n    workouts,\n    loading,\n    error,\n    clientId,\n    setClientId,\n    fetchWorkouts,\n    addWorkout,\n    updateWorkout\n  };\n  return /*#__PURE__*/_jsxDEV(WorkoutContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(WorkoutProvider, \"Zo1LPo2+dv5Mou2AWp0aUOeJ1Ps=\");\n_c = WorkoutProvider;\nexport default WorkoutProvider;\nvar _c;\n$RefreshReg$(_c, \"WorkoutProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","workoutService","jsxDEV","_jsxDEV","WorkoutContext","WorkoutProvider","children","_s","workouts","setWorkouts","loading","setLoading","error","setError","clientId","setClientId","fetchWorkouts","data","getWorkoutPlans","err","message","addWorkout","workoutData","createWorkoutPlan","updateWorkout","id","updateWorkoutPlan","map","w","_id","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Vitor Passagem/Desktop/TrainerTrack-project/trainertrack/client/src/contexts/WorkoutContext.jsx"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nimport * as workoutService from '../services/workout.service';\r\n\r\nexport const WorkoutContext = createContext();\r\n\r\nexport const WorkoutProvider = ({ children }) => {\r\n    const [workouts, setWorkouts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [clientId, setClientId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (clientId) {\r\n            fetchWorkouts();\r\n        }\r\n    }, [clientId]);\r\n\r\n    const fetchWorkouts = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const data = await workoutService.getWorkoutPlans();\r\n            setWorkouts(data);\r\n            setError(null);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const addWorkout = async (workoutData) => {\r\n        try {\r\n            const data = await workoutService.createWorkoutPlan(workoutData);\r\n            setWorkouts([...workouts, data]);\r\n            return data;\r\n        } catch (err) {\r\n            setError(err.message);\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    const updateWorkout = async (id, workoutData) => {\r\n        try {\r\n            const data = await workoutService.updateWorkoutPlan(id, workoutData);\r\n            setWorkouts(workouts.map(w => w._id === id ? data : w));\r\n            return data;\r\n        } catch (err) {\r\n            setError(err.message);\r\n            throw err;\r\n        }\r\n    };\r\n\r\n    const value = {\r\n        workouts,\r\n        loading,\r\n        error,\r\n        clientId,\r\n        setClientId,\r\n        fetchWorkouts,\r\n        addWorkout,\r\n        updateWorkout\r\n    };\r\n\r\n    return (\r\n        <WorkoutContext.Provider value={value}>\r\n            {children}\r\n        </WorkoutContext.Provider>\r\n    );\r\n};\r\n\r\nexport default WorkoutProvider;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,OAAO,KAAKC,cAAc,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,OAAO,MAAMC,cAAc,gBAAGN,aAAa,CAAC,CAAC;AAE7C,OAAO,MAAMO,eAAe,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC7C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACZ,IAAIc,QAAQ,EAAE;MACVE,aAAa,CAAC,CAAC;IACnB;EACJ,CAAC,EAAE,CAACF,QAAQ,CAAC,CAAC;EAEd,MAAME,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACAL,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMM,IAAI,GAAG,MAAMhB,cAAc,CAACiB,eAAe,CAAC,CAAC;MACnDT,WAAW,CAACQ,IAAI,CAAC;MACjBJ,QAAQ,CAAC,IAAI,CAAC;IAClB,CAAC,CAAC,OAAOM,GAAG,EAAE;MACVN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;IACzB,CAAC,SAAS;MACNT,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,MAAMU,UAAU,GAAG,MAAOC,WAAW,IAAK;IACtC,IAAI;MACA,MAAML,IAAI,GAAG,MAAMhB,cAAc,CAACsB,iBAAiB,CAACD,WAAW,CAAC;MAChEb,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAES,IAAI,CAAC,CAAC;MAChC,OAAOA,IAAI;IACf,CAAC,CAAC,OAAOE,GAAG,EAAE;MACVN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;MACrB,MAAMD,GAAG;IACb;EACJ,CAAC;EAED,MAAMK,aAAa,GAAG,MAAAA,CAAOC,EAAE,EAAEH,WAAW,KAAK;IAC7C,IAAI;MACA,MAAML,IAAI,GAAG,MAAMhB,cAAc,CAACyB,iBAAiB,CAACD,EAAE,EAAEH,WAAW,CAAC;MACpEb,WAAW,CAACD,QAAQ,CAACmB,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKJ,EAAE,GAAGR,IAAI,GAAGW,CAAC,CAAC,CAAC;MACvD,OAAOX,IAAI;IACf,CAAC,CAAC,OAAOE,GAAG,EAAE;MACVN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;MACrB,MAAMD,GAAG;IACb;EACJ,CAAC;EAED,MAAMW,KAAK,GAAG;IACVtB,QAAQ;IACRE,OAAO;IACPE,KAAK;IACLE,QAAQ;IACRC,WAAW;IACXC,aAAa;IACbK,UAAU;IACVG;EACJ,CAAC;EAED,oBACIrB,OAAA,CAACC,cAAc,CAAC2B,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAxB,QAAA,EACjCA;EAAQ;IAAA0B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAElC,CAAC;AAAC5B,EAAA,CA/DWF,eAAe;AAAA+B,EAAA,GAAf/B,eAAe;AAiE5B,eAAeA,eAAe;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}